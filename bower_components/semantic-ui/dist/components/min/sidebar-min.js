!function($,e,i,n){"use strict";$.fn.sidebar=function(t){var o=$(this),r=$(e),s=$(i),a=$("html"),l=$("head"),c=o.selector||"",d=(new Date).getTime(),u=[],f=arguments[0],b="string"==typeof f,h=[].slice.call(arguments,1),m=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,0)},g;return o.each(function(){var o=$.isPlainObject(t)?$.extend(!0,{},$.fn.sidebar.settings,t):$.extend({},$.fn.sidebar.settings),v=o.selector,p=o.className,y=o.namespace,C=o.regExp,k=o.error,w="."+y,T="module-"+y,x=$(this),S=$(o.context),A=x.children(v.sidebar),F=S.children(v.fixed),O=S.children(v.pusher),P,E=this,H=x.data(T),D,R,j,M,z;z={initialize:function(){z.debug("Initializing sidebar",t),z.create.id(),M=z.get.transitionEvent(),z.is.ios()&&z.set.ios(),o.delaySetup?m(z.setup.layout):z.setup.layout(),m(function(){z.setup.cache()}),z.instantiate()},instantiate:function(){z.verbose("Storing instance of module",z),H=z,x.data(T,z)},create:{id:function(){R=(Math.random().toString(16)+"000000000").substr(2,8),D="."+R,z.verbose("Creating unique id for element",R)}},destroy:function(){z.verbose("Destroying previous module for",x),x.off(w).removeData(T),z.is.ios()&&z.remove.ios(),S.off(D),r.off(D),s.off(D)},event:{clickaway:function(e){var i=O.find(e.target).length>0||O.is(e.target),n=S.is(e.target);i&&(z.verbose("User clicked on dimmed page"),z.hide()),n&&(z.verbose("User clicked on dimmable context (scaled out page)"),z.hide())},touch:function(e){},containScroll:function(e){E.scrollTop<=0&&(E.scrollTop=1),E.scrollTop+E.offsetHeight>=E.scrollHeight&&(E.scrollTop=E.scrollHeight-E.offsetHeight-1)},scroll:function(e){0===$(e.target).closest(v.sidebar).length&&e.preventDefault()}},bind:{clickaway:function(){z.verbose("Adding clickaway events to context",S),o.closable&&S.on("click"+D,z.event.clickaway).on("touchend"+D,z.event.clickaway)},scrollLock:function(){o.scrollLock&&(z.debug("Disabling page scroll"),r.on("DOMMouseScroll"+D,z.event.scroll)),z.verbose("Adding events to contain sidebar scroll"),s.on("touchmove"+D,z.event.touch),x.on("scroll"+w,z.event.containScroll)}},unbind:{clickaway:function(){z.verbose("Removing clickaway events from context",S),S.off(D)},scrollLock:function(){z.verbose("Removing scroll lock from page"),s.off(D),r.off(D),x.off("scroll"+w)}},add:{inlineCSS:function(){var e=z.cache.width||x.outerWidth(),i=z.cache.height||x.outerHeight(),n=z.is.rtl(),t=z.get.direction(),o={left:e,right:-e,top:i,bottom:-i},r;n&&(z.verbose("RTL detected, flipping widths"),o.left=-e,o.right=e),r="<style>","left"===t||"right"===t?(z.debug("Adding CSS rules for animation distance",e),r+=" .ui.visible."+t+".sidebar ~ .fixed, .ui.visible."+t+".sidebar ~ .pusher {   -webkit-transform: translate3d("+o[t]+"px, 0, 0);           transform: translate3d("+o[t]+"px, 0, 0); }"):"top"!==t&&"bottom"!=t||(r+=" .ui.visible."+t+".sidebar ~ .fixed, .ui.visible."+t+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+o[t]+"px, 0);           transform: translate3d(0, "+o[t]+"px, 0); }"),z.is.ie()&&("left"===t||"right"===t?(z.debug("Adding CSS rules for animation distance",e),r+=" body.pushable > .ui.visible."+t+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+o[t]+"px, 0, 0);           transform: translate3d("+o[t]+"px, 0, 0); }"):"top"!==t&&"bottom"!=t||(r+=" body.pushable > .ui.visible."+t+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+o[t]+"px, 0);           transform: translate3d(0, "+o[t]+"px, 0); }"),r+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),r+="</style>",P=$(r).appendTo(l),z.debug("Adding sizing css to head",P)}},refresh:function(){z.verbose("Refreshing selector cache"),S=$(o.context),A=S.children(v.sidebar),O=S.children(v.pusher),F=S.children(v.fixed),z.clear.cache()},refreshSidebars:function(){z.verbose("Refreshing other sidebars"),A=S.children(v.sidebar)},repaint:function(){z.verbose("Forcing repaint event"),E.style.display="none";var e=E.offsetHeight;E.scrollTop=E.scrollTop,E.style.display=""},setup:{cache:function(){z.cache={width:x.outerWidth(),height:x.outerHeight(),rtl:"rtl"==x.css("direction")}},layout:function(){0===S.children(v.pusher).length&&(z.debug("Adding wrapper element for sidebar"),z.error(k.pusher),O=$('<div class="pusher" />'),S.children().not(v.omitted).not(A).wrapAll(O),z.refresh()),0!==x.nextAll(v.pusher).length&&x.nextAll(v.pusher)[0]===O[0]||(z.debug("Moved sidebar to correct parent element"),z.error(k.movedSidebar,E),x.detach().prependTo(S),z.refresh()),z.clear.cache(),z.set.pushable(),z.set.direction()}},attachEvents:function(e,i){var n=$(e);i=$.isFunction(z[i])?z[i]:z.toggle,n.length>0?(z.debug("Attaching sidebar events to element",e,i),n.on("click"+w,i)):z.error(k.notFound,e)},show:function(e){if(e=$.isFunction(e)?e:function(){},z.is.hidden()){if(z.refreshSidebars(),o.overlay&&(z.error(k.overlay),o.transition="overlay"),z.refresh(),z.othersActive())if(z.debug("Other sidebars currently visible"),o.exclusive){if("overlay"!=o.transition)return void z.hideOthers(z.show);z.hideOthers()}else o.transition="overlay";z.pushPage(function(){e.call(E),o.onShow.call(E)}),o.onChange.call(E),o.onVisible.call(E)}else z.debug("Sidebar is already visible")},hide:function(e){e=$.isFunction(e)?e:function(){},(z.is.visible()||z.is.animating())&&(z.debug("Hiding sidebar",e),z.refreshSidebars(),z.pullPage(function(){e.call(E),o.onHidden.call(E)}),o.onChange.call(E),o.onHide.call(E))},othersAnimating:function(){return A.not(x).filter("."+p.animating).length>0},othersVisible:function(){return A.not(x).filter("."+p.visible).length>0},othersActive:function(){return z.othersVisible()||z.othersAnimating()},hideOthers:function(e){var i=A.not(x).filter("."+p.visible),n=i.length,t=0;e=e||function(){},i.sidebar("hide",function(){t++,t==n&&e()})},toggle:function(){z.verbose("Determining toggled direction"),z.is.hidden()?z.show():z.hide()},pushPage:function(e){var i=z.get.transition(),n="overlay"===i||z.othersActive()?x:O,t,r,s;e=$.isFunction(e)?e:function(){},"scale down"==o.transition&&z.scrollToTop(),z.set.transition(i),z.repaint(),t=function(){z.bind.clickaway(),z.add.inlineCSS(),z.set.animating(),z.set.visible()},r=function(){z.set.dimmed()},s=function(i){i.target==n[0]&&(n.off(M+D,s),z.remove.animating(),z.bind.scrollLock(),e.call(E))},n.off(M+D),n.on(M+D,s),m(t),o.dimPage&&!z.othersVisible()&&m(r)},pullPage:function(e){var i=z.get.transition(),n="overlay"==i||z.othersActive()?x:O,t,r;e=$.isFunction(e)?e:function(){},z.verbose("Removing context push state",z.get.direction()),z.unbind.clickaway(),z.unbind.scrollLock(),t=function(){z.set.transition(i),z.set.animating(),z.remove.visible(),o.dimPage&&!z.othersVisible()&&O.removeClass(p.dimmed)},r=function(t){t.target==n[0]&&(n.off(M+D,r),z.remove.animating(),z.remove.transition(),z.remove.inlineCSS(),("scale down"==i||o.returnScroll&&z.is.mobile())&&z.scrollBack(),e.call(E))},n.off(M+D),n.on(M+D,r),m(t)},scrollToTop:function(){z.verbose("Scrolling to top of page to avoid animation issues"),j=$(e).scrollTop(),x.scrollTop(0),e.scrollTo(0,0)},scrollBack:function(){z.verbose("Scrolling back to original page position"),e.scrollTo(0,j)},clear:{cache:function(){z.verbose("Clearing cached dimensions"),z.cache={}}},set:{ios:function(){a.addClass(p.ios)},pushed:function(){S.addClass(p.pushed)},pushable:function(){S.addClass(p.pushable)},dimmed:function(){O.addClass(p.dimmed)},active:function(){x.addClass(p.active)},animating:function(){x.addClass(p.animating)},transition:function(e){e=e||z.get.transition(),x.addClass(e)},direction:function(e){e=e||z.get.direction(),x.addClass(p[e])},visible:function(){x.addClass(p.visible)},overlay:function(){x.addClass(p.overlay)}},remove:{inlineCSS:function(){z.debug("Removing inline css styles",P),P&&P.length>0&&P.remove()},ios:function(){a.removeClass(p.ios)},pushed:function(){S.removeClass(p.pushed)},pushable:function(){S.removeClass(p.pushable)},active:function(){x.removeClass(p.active)},animating:function(){x.removeClass(p.animating)},transition:function(e){e=e||z.get.transition(),x.removeClass(e)},direction:function(e){e=e||z.get.direction(),x.removeClass(p[e])},visible:function(){x.removeClass(p.visible)},overlay:function(){x.removeClass(p.overlay)}},get:{direction:function(){return x.hasClass(p.top)?p.top:x.hasClass(p.right)?p.right:x.hasClass(p.bottom)?p.bottom:p.left},transition:function(){var e=z.get.direction(),i;return i=z.is.mobile()?"auto"==o.mobileTransition?o.defaultTransition.mobile[e]:o.mobileTransition:"auto"==o.transition?o.defaultTransition.computer[e]:o.transition,z.verbose("Determined transition",i),i},transitionEvent:function(){var e=i.createElement("element"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},o;for(o in t)if(e.style[o]!==n)return t[o]}},is:{ie:function(){var i=!e.ActiveXObject&&"ActiveXObject"in e,n="ActiveXObject"in e;return i||n},ios:function(){var e=navigator.userAgent,i=e.match(C.ios),n=e.match(C.mobileChrome);return i&&!n?(z.verbose("Browser was found to be iOS",e),!0):!1},mobile:function(){var e=navigator.userAgent,i=e.match(C.mobile);return i?(z.verbose("Browser was found to be mobile",e),!0):(z.verbose("Browser is not mobile, using regular transition",e),!1)},hidden:function(){return!z.is.visible()},visible:function(){return x.hasClass(p.visible)},open:function(){return z.is.visible()},closed:function(){return z.is.hidden()},vertical:function(){return x.hasClass(p.top)},animating:function(){return S.hasClass(p.animating)},rtl:function(){return z.cache.rtl===n&&(z.cache.rtl="rtl"==x.css("direction")),z.cache.rtl}},setting:function(e,i){if(z.debug("Changing setting",e,i),$.isPlainObject(e))$.extend(!0,o,e);else{if(i===n)return o[e];o[e]=i}},internal:function(e,i){if($.isPlainObject(e))$.extend(!0,z,e);else{if(i===n)return z[e];z[e]=i}},debug:function(){o.debug&&(o.performance?z.performance.log(arguments):(z.debug=Function.prototype.bind.call(console.info,console,o.name+":"),z.debug.apply(console,arguments)))},verbose:function(){o.verbose&&o.debug&&(o.performance?z.performance.log(arguments):(z.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),z.verbose.apply(console,arguments)))},error:function(){z.error=Function.prototype.bind.call(console.error,console,o.name+":"),z.error.apply(console,arguments)},performance:{log:function(e){var i,n,t;o.performance&&(i=(new Date).getTime(),t=d||i,n=i-t,d=i,u.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:E,"Execution Time":n})),clearTimeout(z.performance.timer),z.performance.timer=setTimeout(z.performance.display,500)},display:function(){var e=o.name+":",i=0;d=!1,clearTimeout(z.performance.timer),$.each(u,function(e,n){i+=n["Execution Time"]}),e+=" "+i+"ms",c&&(e+=" '"+c+"'"),(console.group!==n||console.table!==n)&&u.length>0&&(console.groupCollapsed(e),console.table?console.table(u):$.each(u,function(e,i){console.log(i.Name+": "+i["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(e,i,t){var o=H,r,s,a;return i=i||h,t=E||t,"string"==typeof e&&o!==n&&(e=e.split(/[\. ]/),r=e.length-1,$.each(e,function(i,t){var a=i!=r?t+e[i+1].charAt(0).toUpperCase()+e[i+1].slice(1):e;if($.isPlainObject(o[a])&&i!=r)o=o[a];else{if(o[a]!==n)return s=o[a],!1;if(!$.isPlainObject(o[t])||i==r)return o[t]!==n?(s=o[t],!1):(z.error(k.method,e),!1);o=o[t]}})),$.isFunction(s)?a=s.apply(t,i):s!==n&&(a=s),$.isArray(g)?g.push(a):g!==n?g=[g,a]:a!==n&&(g=a),s}},b?(H===n&&z.initialize(),z.invoke(f)):(H!==n&&z.invoke("destroy"),z.initialize())}),g!==n?g:this},$.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document);